.status-form {
  display: block;

  line-height:    var(--text20-line);
  font-size:      var(--text20-font);
  word-break:     break-all;
  text-align:     justify;


  textarea {
    margin:             var(--verticalspace10);
    border:             0;
    width:              100%;
    height:             calc(var(--text30-line) * 4);
    border-radius:      var(--radius);
    background-color:   var(--color1);
    line-height:        var(--text20-line);
    font-size:          var(--text20-font);
    color:              var(--textcolor);
    text-align:         justify;

    min-height:     100px;
    padding:        var(--padding10);
    padding-right:  calc(var(--grid) * 2 + var(--iconsize30)) !important; // --padding10 + --iconsize15
    resize:         none;

    @media screen and (max-width: 600px) {
      height: 100px !important; // prevent auto-resize textarea
      resize: none;
    }
  }

  textarea::placeholder {
    color:      var(--color3);
  }

  .spoiler-input {
    margin:       var(--verticalspace20);

    input {
        border:         0;
        line-height:    var(--text20-line);
        font-size:      var(--text20-font);
        color:          var(--textcolor);
        height:         calc(var(--grid) * 5);

        border-radius:  var(--radius);
        padding:        var(--grid) calc(var(--grid) * 2);
        width:          calc(100% - var(--grid) * 2 * 2);  // 100% - paddings
    }
  }

  .compose-form__warning {
    margin:       var(--verticalspace20);
    font-size:    var(--text10-font);
    line-height:  var(--text10-line);
  }

  .compose-form__autosuggest-wrapper {
    position:   relative;
    margin:     var(--verticalspace25);
  }

  .compose-form__modifiers {
    font-size:  var(--text20-font);
  }

  .compose-form__toot-button {
    display: flex;

    svg {
      stroke: var(--color1);
    }
  }

  .action-bar {
    display: flex;
    margin:  var(--verticalspace10);

    ul {
      display: block;
      flex:    100%;

      li {
        display: block;
        float:   left;

        img {
          display: block;
          height:  var(--iconsize10);
          margin:  0 var(--grid) var(--grid) 0;
        }
      }

      li.invisible {
        display: none;
      }
    }
  }

  .sensitive_guide {
    margin: var(--verticalspace5);

    .sensitive_guide__message {
      padding: var(--padding10);
      background-color: var(--color1);
      color: var(--strong1);
      border-radius: var(--radius);
    }
  }


  // ---------------------------------------------------------------------------------------------------
  // Mastodon's default theme
  // ---------------------------------------------------------------------------------------------------
  @import "../../../styles/variables.scss";


  // ----------------------------------------------
  // autosuggest block below textarea
  .autosuggest-textarea {
    position: relative;
  }

  .autosuggest-textarea__textarea {
    display:      block;
    width:        100%;
    color:        var(--textcolor);
    padding:      var(--padding15);
    font-family:  inherit;
    font-size:    var(--text20-font);
    line-height:  var(--text20-line);
    resize:       none;
    box-sizing:   border-box;

    &:focus {
      outline: 0;
    }

    @media screen and (max-width: 600px) {
      font-size: 16px;
    }
  }

  .autosuggest-textarea__suggestions {
    display: none;
    position: absolute;
    top: 100%;
    width: 100%;
    z-index: var(--z-index-small-overlay);
    background: $ui-secondary-color;
    color: $ui-base-color;
    font-size: 14px;

    &.autosuggest-textarea__suggestions--visible {
      display: block;
    }
  }

  .autosuggest-textarea__suggestions__item {
    padding: 10px;
    cursor: pointer;

    &:hover {
      background: darken($ui-secondary-color, 10%);
    }

    &.selected {
      background: $ui-highlight-color;
      color: $base-border-color;
    }
  }

  .autosuggest-account {
    overflow: hidden;
  }

  .autosuggest-account-icon {
    float: left;
    margin-right: 5px;
  }

  .autosuggest-status {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;

    strong {
      font-weight: 500;
    }
  }

  // -------------------------------------------------
  // Pickers (Time Limit, Emoji)

  .compose-form__pickers {
    position: absolute;
    right:    var(--padding15);
    top:      0;
    width:    var(--iconsize15);

    .icon.fa {
      font-size: var(--iconsize15);
      font-weight: normal;
    }

    .emoji-picker-dropdown {
      margin: var(--verticalspace25);

      .dropdown-content {
        right: 0;
      }
    }

    .time-limit-dropdown {
      margin:   var(--verticalspace10);

      .dropdown__content {
        position: relative;
      }

      .time-limit-dropdown__dropdown {
        display:        none;
        position:       absolute;
        left:           0;

        width:          var(--width-contextmenu);
        background:     var(--color1);
        border-radius:  var(--radius);
        color:          var(--textcolor);

        overflow:       hidden;
        box-shadow:     var(--shadow2);
        word-break:     break-all;
        z-index:        var(--z-index-dropdown);

        left:           calc(var(--width-contextmenu) * -1 + var(--iconsize10));
        top:            0;

        .time-limit-dropdown__header {
          padding:        var(--padding20);
          border-bottom:  1px solid var(--color3);

          font-size:    var(--text30-font);
          line-height:  var(--text30-line);

          .time-limit-dropdown__header_note {
            margin:       var(--verticalspace20);

            font-size:    var(--text10-font);
            line-height:  var(--text10-line);
          }

          strong {
            color:        var(--strong2);
          }
        }

        .time-limit-dropdown__options {

          .time-limit-dropdown__option {
            padding:  var(--padding-dropdown-option);
            cursor:   pointer;
            display:  flex;

            &:hover,
            &.active {
              background: var(--linkcolor2);
              color:      var(--color1);

              .time-limit-dropdown__option__content {
                color: var(--color1);

              }
            }

            &.active:hover {
              background: var(--linkcolor2);
            }
          }
        }
      }

      .fa-fw {
        width: var(--iconsize15) !important;
      }
    }

    .time-limit-dropdown.dropdown--active {
      .time-limit-dropdown__dropdown {
        display: block;
      }

      .dropdown__trigger {
        color: var(--strong1);
      }
    }
  }

  // ------------------------------------------------------
  // Uploading File Preview
  .compose-form__upload-wrapper {
    overflow: hidden;
  }

  .compose-form__uploads-wrapper {
    display: flex;
  }

  .compose-form__upload {
    flex:   1 1 0;
    margin: var(--verticalspace20);
  }

  .compose-form__upload-thumbnail {
    border-radius: 4px;
    background-position: center;
    background-size: cover;
    background-repeat: no-repeat;
    height: 100px;
    width: 100%;

    .icon {
      background-color: var(--color3);
      border-radius: var(--grid);
      opacity: 0.6;

      svg {
        stroke: var(--textcolor);
        width: var(--iconsize20);
        height: var(--iconsize20);
      }

      &:active,
      &:hover,
      &:focus {
        opacity: 1;

        svg {
          stroke: var(--textcolor);
        }
      }
    }
  }

  .compose-form__upload-cancel {
    background-size: cover;
    border-radius: 4px;
    height: 100px;
    width: 100px;
  }


  .compose-form__buttons-wrapper {
    display:          flex;
    justify-content:  space-between;
    position:         relative;
    margin:           var(--verticalspace20);

    .compose-form__buttons {
      display:          flex;
      justify-content:  center;
      align-items:      center;

      .compose-form__upload-button,
      .privacy-dropdown,
      .compose-form__sensitive-button,
      .compose-form__spoiler-button,
      .text-icon-button {
        margin: var(--rightspace15);
        height: var(--iconsize13);

        .privacy-dropdown__value,
        .compose-form__upload-button-icon {
          .privacy-dropdown__value-icon {
            height:   100%;
          }
        }
      }

      button {
        border:       none;
        background:   transparent;
        font-size:    var(--text20-font);
        line-height:  var(--text20-line);
        padding:      0;
        color:        var(--strong2);
      }

      .compose-form__sensitive-button {
        display: none;

        &.compose-form__sensitive-button--visible {
          display: block;
        }

        .compose-form__sensitive-button__icon {
          line-height: 27px;
        }
      }

      .compose-form__upload-wrapper {
        overflow: hidden;
      }

      .compose-form__uploads-wrapper {
        display: flex;
        padding: 5px;
      }

      .compose-form__upload {
        flex: 1 1 0;
        margin: 5px;
      }

      .compose-form__upload-thumbnail {
        border-radius: 4px;
        background-position: center;
        background-size: cover;
        background-repeat: no-repeat;
        height: 100px;
        width: 100%;
      }

      .compose-form__upload-cancel {
        background-size: cover;
        border-radius: 4px;
        height: 100px;
        width: 100px;
      }
    }

    .compose-form__publish {
      display: flex;
      min-width: 0;

      .character-counter__wrapper {
        display:      flex;
        align-items:  center;
        font-size:    var(--text20-font);
        margin:       0 var(--padding10);
      }

      .compose-form__publish-button-wrapper {
        button {
          padding:  var(--padding10) var(--padding15) !important;
          height:       100% !important;
          line-height:  var(--text30-line) !important;
          font-size:    var(--text30-font) !important;
        }
      }
    }
  }


  .compose-form__sensitive-button {
    display: none;

    &.compose-form__sensitive-button--visible {
      display: block;
    }

    .compose-form__sensitive-button__icon {
      line-height: 27px;
    }
  }

  .status__content--with-action {
    cursor: pointer;
  }


  // ---------------------------------------------------------------
  // mastodon/features/compose/components/upload_progress.js
  .upload-progress {
    padding: 10px;
    color: lighten($ui-base-color, 26%);
    overflow: hidden;
    display: flex;

    .fa {
      font-size: 34px;
      margin-right: 10px;
    }

    span {
      font-size: 12px;
      text-transform: uppercase;
      font-weight: 500;
      display: block;
    }

    .upload-progess__message {
      flex: 1 1 auto;
    }

    .upload-progress__backdrop {
      width: 100%;
      height: 6px;
      border-radius: 6px;
      background: lighten($ui-base-color, 26%);
      position: relative;
      margin-top: 5px;

      .upload-progress__tracker {
        position: absolute;
        left: 0;
        top: 0;
        height: 6px;
        background: $ui-highlight-color;
        border-radius: 6px;
      }
    }
  }
}
